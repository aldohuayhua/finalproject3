{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ziadeldessouky/Desktop/rutgers/homework/finalproject3/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/ziadeldessouky/Desktop/rutgers/homework/finalproject3/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/ziadeldessouky/Desktop/rutgers/homework/finalproject3/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Button,Card,Modal}from\"react-bootstrap\";import InstructionsComponent from\"./InstructionsComponent\";import API from'../utils/API';var RecipeCardComponenet=function RecipeCardComponenet(_ref){var title=_ref.title,image=_ref.image,id=_ref.id,userID=_ref.userID;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),recipesInstructions=_useState2[0],setRecipeInstructions=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),query=_useState4[0],setQuery=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),show=_useState6[0],setShow=_useState6[1];var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){return setShow(true);};var API_KEY=process.env.REACT_APP_SPOONACULAR_API_KEY;useEffect(function(){getRecipesInstructions();},[query]);var getRecipesInstructions=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://api.spoonacular.com/recipes/\".concat(query,\"/information?includeNutrition=false&apiKey=\").concat(API_KEY));case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;setRecipeInstructions(data);console.log(data);case 8:case\"end\":return _context.stop();}}},_callee);}));return function getRecipesInstructions(){return _ref2.apply(this,arguments);};}();var getSearch=function getSearch(e){e.preventDefault();setQuery(e.target.value);handleShow();};var saveRecipe=function saveRecipe(){window.location=\"/profile\";API.addFav(userID,{favRecipes:{title:title,image:image,recipesInstructions:recipesInstructions.instructions}}).catch(function(err){return console.log(err);});console.log(userID);console.log(recipesInstructions.instructions);};// const routeChange=()=> {\n//     let path = `/profile`;\n//     let history = useHistory();\n//     history.push(path);\n//   }\nreturn React.createElement(Card,{style:{width:'18rem'}},React.createElement(Card.Img,{variant:\"top\",src:image}),React.createElement(Card.Body,null,React.createElement(Card.Title,null,title),React.createElement(Card.Text,null),React.createElement(Button,{onClick:getSearch,value:id,variant:\"primary\"},\"Get Recipe\")),React.createElement(Modal,{show:show,onHide:handleClose},React.createElement(Modal.Header,{closeButton:true},React.createElement(Modal.Title,null,\"Instructions for: \",title)),React.createElement(Modal.Body,null,React.createElement(InstructionsComponent,{instructions:recipesInstructions.instructions})),React.createElement(Modal.Footer,null,React.createElement(Button,{variant:\"secondary\",onClick:handleClose},\"Close\"),React.createElement(Button,{variant:\"primary\",onClick:saveRecipe},\"Save Changes\"))));};export default RecipeCardComponenet;","map":{"version":3,"sources":["/Users/ziadeldessouky/Desktop/rutgers/homework/finalproject3/client/src/components/RecipeCardComponenet.js"],"names":["React","useEffect","useState","Button","Card","Modal","InstructionsComponent","API","RecipeCardComponenet","title","image","id","userID","recipesInstructions","setRecipeInstructions","query","setQuery","show","setShow","handleClose","handleShow","API_KEY","process","env","REACT_APP_SPOONACULAR_API_KEY","getRecipesInstructions","fetch","response","json","data","console","log","getSearch","e","preventDefault","target","value","saveRecipe","window","location","addFav","favRecipes","instructions","catch","err","width"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Button, Card, Modal } from \"react-bootstrap\";\nimport InstructionsComponent from \"./InstructionsComponent\";\nimport API from '../utils/API';\n\n\n\nconst RecipeCardComponenet = ({ title, image, id, userID }) => {\n    const [recipesInstructions, setRecipeInstructions] = useState([])\n    const [query, setQuery] = useState('')\n    const [show, setShow] = useState(false);\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n    const API_KEY = process.env.REACT_APP_SPOONACULAR_API_KEY;\n\n    useEffect(() => {\n        getRecipesInstructions();\n    }, [query]);\n\n    const getRecipesInstructions = async () => {\n        const response = await fetch(`https://api.spoonacular.com/recipes/${query}/information?includeNutrition=false&apiKey=${API_KEY}`);\n        const data = await response.json();\n        setRecipeInstructions(data);\n        console.log(data);\n    }\n\n    const getSearch = e => {\n        e.preventDefault();\n        setQuery(e.target.value);\n        handleShow();\n    }\n\n    const saveRecipe = () => {\n\n        \n        window.location = \"/profile\"\n        \n        \n\n        API.addFav(userID, {favRecipes:{\n            title: title,\n            image: image,\n            recipesInstructions:recipesInstructions.instructions,\n\n        }}).catch(err => console.log(err));\n        console.log(userID)\n        console.log(recipesInstructions.instructions)\n    } \n\n    // const routeChange=()=> {\n    //     let path = `/profile`;\n    //     let history = useHistory();\n    //     history.push(path);\n    //   }\n\n    \n\n    return (\n            <Card style={{ width: '18rem' }}>\n                <Card.Img variant=\"top\" src={image} />\n                <Card.Body>\n                    <Card.Title>{title}</Card.Title>\n                    <Card.Text>\n                    </Card.Text>\n                    <Button onClick={getSearch} value={id} variant=\"primary\">Get Recipe</Button>\n                </Card.Body>\n\n                <Modal show={show} onHide={handleClose}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>Instructions for: {title}</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <InstructionsComponent instructions={recipesInstructions.instructions} />\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={handleClose}>\n                            Close\n          </Button>\n                        <Button variant=\"primary\" onClick={saveRecipe} >\n                            Save Changes\n          </Button>\n                    </Modal.Footer>\n                </Modal>\n            </Card>\n\n    )\n}\nexport default RecipeCardComponenet;"]},"metadata":{},"sourceType":"module"}
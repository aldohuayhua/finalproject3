{"ast":null,"code":"import _classCallCheck from\"/Users/ziadeldessouky/Desktop/rutgers/homework/finalproject3/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ziadeldessouky/Desktop/rutgers/homework/finalproject3/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/ziadeldessouky/Desktop/rutgers/homework/finalproject3/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/ziadeldessouky/Desktop/rutgers/homework/finalproject3/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/ziadeldessouky/Desktop/rutgers/homework/finalproject3/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import{fireAuth}from\"./fireApi\";var withAuthProtection=function withAuthProtection(redirectRoute){return function(WrappedComponent){var WithAuthProtection=/*#__PURE__*/function(_React$Component){_inherits(WithAuthProtection,_React$Component);function WithAuthProtection(){_classCallCheck(this,WithAuthProtection);return _possibleConstructorReturn(this,_getPrototypeOf(WithAuthProtection).apply(this,arguments));}_createClass(WithAuthProtection,[{key:\"componentDidMount\",value:function componentDidMount(){var history=this.props.history;if(!fireAuth.currentUser){return history.push(redirectRoute);}}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){var _this$props=this.props,me=_this$props.me,history=_this$props.history;var nextMe=nextProps.me;if(me&&!nextMe){return history.push(redirectRoute);}}},{key:\"render\",value:function render(){var me=this.props.me;if(!me){return null;}return React.createElement(WrappedComponent,this.props);}}]);return WithAuthProtection;}(React.Component);return WithAuthProtection;};};export default withAuthProtection;","map":{"version":3,"sources":["/Users/ziadeldessouky/Desktop/rutgers/homework/finalproject3/client/src/withAuthProtection.js"],"names":["React","fireAuth","withAuthProtection","redirectRoute","WrappedComponent","WithAuthProtection","history","props","currentUser","push","nextProps","me","nextMe","Component"],"mappings":"4vBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,WAAzB,CAEA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,aAAa,QAAI,UAAAC,gBAAgB,CAAI,IACxDC,CAAAA,kBADwD,8VAExC,IACVC,CAAAA,OADU,CACE,KAAKC,KADP,CACVD,OADU,CAElB,GAAI,CAACL,QAAQ,CAACO,WAAd,CAA2B,CACzB,MAAOF,CAAAA,OAAO,CAACG,IAAR,CAAaN,aAAb,CAAP,CACD,CACF,CAP2D,4EASlCO,SATkC,CASvB,iBACX,KAAKH,KADM,CAC3BI,EAD2B,aAC3BA,EAD2B,CACvBL,OADuB,aACvBA,OADuB,IAEvBM,CAAAA,MAFuB,CAEZF,SAFY,CAE3BC,EAF2B,CAGnC,GAAIA,EAAE,EAAI,CAACC,MAAX,CAAmB,CACjB,MAAON,CAAAA,OAAO,CAACG,IAAR,CAAaN,aAAb,CAAP,CACD,CACF,CAf2D,uCAiBnD,IACCQ,CAAAA,EADD,CACQ,KAAKJ,KADb,CACCI,EADD,CAEP,GAAI,CAACA,EAAL,CAAS,CACP,MAAO,KAAP,CACD,CACD,MAAO,qBAAC,gBAAD,CAAsB,KAAKJ,KAA3B,CAAP,CACD,CAvB2D,gCAC7BP,KAAK,CAACa,SADuB,EA0B9D,MAAOR,CAAAA,kBAAP,CACD,CA3BuC,EAAxC,CA6BA,cAAeH,CAAAA,kBAAf","sourcesContent":["import React from \"react\";\nimport { fireAuth } from \"./fireApi\";\n\nconst withAuthProtection = redirectRoute => WrappedComponent => {\n  class WithAuthProtection extends React.Component {\n    componentDidMount() {\n      const { history } = this.props;\n      if (!fireAuth.currentUser) {\n        return history.push(redirectRoute);\n      }\n    }\n\n    componentWillReceiveProps(nextProps) {\n      const { me, history } = this.props;\n      const { me: nextMe } = nextProps;\n      if (me && !nextMe) {\n        return history.push(redirectRoute);\n      }\n    }\n\n    render() {\n      const { me } = this.props;\n      if (!me) {\n        return null;\n      }\n      return <WrappedComponent {...this.props} />;\n    }\n  }\n\n  return WithAuthProtection;\n};\n\nexport default withAuthProtection;"]},"metadata":{},"sourceType":"module"}